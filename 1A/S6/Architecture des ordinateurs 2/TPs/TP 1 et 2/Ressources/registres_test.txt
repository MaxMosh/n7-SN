// Test du module registres (rst, clk, areg[3..0], breg[3..0], dreg[3..0],  datain[31..0] : a[31..0], b[31..0], ir[31..0]) 

set rst 1
set clk 0
set rst 0

// TEST Valeurs initiales
// r0 et r1
set areg[3..0] 0000
set breg[3..0] 0001
check a[31..0] 00000000000000000000000000000000
check b[31..0] 00000000000000000000000000000001
set areg[3..0] 0001
set breg[3..0] 0000
check a[31..0] 00000000000000000000000000000001
check b[31..0] 00000000000000000000000000000000

// r2 ... r15 sur abus
set areg[3..0] 0010
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 0011
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 0100
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 0101
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 0110
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 0111
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 1100
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 1101
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 1110
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 1111
check a[31..0] 00000000000000000000000000000000

// r2 ... r15 sur bbus
set breg[3..0] 0010
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 0011
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 0100
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 0101
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 0110
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 0111
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 1100
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 1101
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 1110
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 1111
check b[31..0] 00000000000000000000000000000000

// ir 
check ir[31..0] 00000000000000000000000000000000

// TEST Ecriture
set datain[31..0] 10001001101010111100110111101111
set dreg[3..0] 0000
set clk 1
set clk 0
set dreg[3..0] 0001
set clk 1
set clk 0
set dreg[3..0] 0010
set clk 1
set clk 0
set dreg[3..0] 0011
set clk 1
set clk 0
set dreg[3..0] 0100
set clk 1
set clk 0
set dreg[3..0] 0101
set clk 1
set clk 0
set dreg[3..0] 0110
set clk 1
set clk 0
set dreg[3..0] 0111
set clk 1
set clk 0
set datain[31..0] 01110110010101000011001000010000
set dreg[3..0] 1100
set clk 1
set clk 0
set dreg[3..0] 1101
set clk 1
set clk 0
set dreg[3..0] 1110
set clk 1
set clk 0
set dreg[3..0] 1111
set clk 1
set clk 0

// TEST lecture sur abus
set areg[3..0] 0000
check a[31..0] 00000000000000000000000000000000
set areg[3..0] 0001
check a[31..0] 00000000000000000000000000000001
set areg[3..0] 0010
check a[31..0] 10001001101010111100110111101111
set areg[3..0] 0011
check a[31..0] 10001001101010111100110111101111
set areg[3..0] 0100
check a[31..0] 10001001101010111100110111101111
set areg[3..0] 0101
check a[31..0] 10001001101010111100110111101111
set areg[3..0] 0110
check a[31..0] 10001001101010111100110111101111
set areg[3..0] 0111
check a[31..0] 10001001101010111100110111101111
set areg[3..0] 1100
check a[31..0] 01110110010101000011001000010000
set areg[3..0] 1101
check a[31..0] 01110110010101000011001000010000
set areg[3..0] 1110
check a[31..0] 01110110010101000011001000010000
set areg[3..0] 1111
check a[31..0] 01110110010101000011001000010000

// TEST lecture sur bbus
set breg[3..0] 0000
check b[31..0] 00000000000000000000000000000000
set breg[3..0] 0001
check b[31..0] 00000000000000000000000000000001
set breg[3..0] 0010
check b[31..0] 10001001101010111100110111101111
set breg[3..0] 0011
check b[31..0] 10001001101010111100110111101111
set breg[3..0] 0100
check b[31..0] 10001001101010111100110111101111
set breg[3..0] 0101
check b[31..0] 10001001101010111100110111101111
set breg[3..0] 0110
check b[31..0] 10001001101010111100110111101111
set breg[3..0] 0111
check b[31..0] 10001001101010111100110111101111
set breg[3..0] 1100
check b[31..0] 01110110010101000011001000010000
set breg[3..0] 1101
check b[31..0] 01110110010101000011001000010000
set breg[3..0] 1110
check b[31..0] 01110110010101000011001000010000
set breg[3..0] 1111
check b[31..0] 01110110010101000011001000010000

// TEST ir
check a[31..0] 01110110010101000011001000010000